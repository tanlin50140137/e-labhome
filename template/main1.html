<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>jquery虚拟键盘中文打字效果</title>
</head>

<body>

<script type="text/javascript" src="./js/vk_loader.js?vk_layout=CN%20Chinese%20Simpl.%20Pinyin&vk_skin=flat_gray" ></script>
<script src="https://www.jq22.com/jquery/jquery-1.10.2.js"></script>
<script>
function test(){
	VirtualKeyboard.toggle('txt_Search', 'softkey');
	$("#kb_langselector,#kb_mappingselector,#copyrights").css("display", "none");
}
</script>
<br><br><br><br><br>
<center>
<input type="button" onclick="onFactorial('https://www.e-labhome.com/ueditor/php/upload/qrcode/z-qrcode7093.png')" value="点击触发" />
<br/>
<br/>
<br/>
<br/>
<br/>
<div onclick="a('main.html')" style="color:#FFFFFF">点击转到main.html</div>
</center>

</body>
<script src="./js/qwebchannel.js"></script>
<!--  实现部分  -->
<script language="javascript">
  // 监听Python channel返回槽对像，赋值给 window.obj
  document.addEventListener("DOMContentLoaded", function(){
      new QWebChannel(qt.webChannelTransport, function(channel){
            window.obj = channel.objects.obj;
      })
  })
  // html触发函数
  function onFactorial(url){
      // 如果对像存在
      if( window.obj ){
          // 调用Python槽方法并传递参数，槽方法返回值以callback回调函数接收
          window.obj.factorial(url, callback);
      }
  }
  // Python槽方法返回的数据
  function callback(result){}
	function a(url){
			location.href = url;
	}
</script>
</html>
